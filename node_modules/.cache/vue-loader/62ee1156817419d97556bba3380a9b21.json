{"remainingRequest":"/home/pi/real-arma3/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pi/real-arma3/src/components/pages/store.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pi/real-arma3/src/components/pages/store.vue","mtime":1542583959561},{"path":"/home/pi/real-arma3/node_modules/cache-loader/dist/cjs.js","mtime":1539850667000},{"path":"/home/pi/real-arma3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/pi/real-arma3/node_modules/cache-loader/dist/cjs.js","mtime":1539850667000},{"path":"/home/pi/real-arma3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import axios from '../../../node_modules/axios'\n\n\n    export default {\n        name: \"store\",\n        data(){\n            return {\n\t\tshowOrNot: false,\n\t\tshowOrNotAdd: false,\n                data: [],\n                currentPage: 1,\n                tRows: 1\n            }\n        },\n        mounted () {\n\t\t\n          axios.get('http://89.157.15.147:3000')\n              .then( (response) => {\n                  this.data = response.data;\n              })\n              .catch(function (error){\n                  console.log(error);\n              })\n\n              axios.get('http://89.157.15.147:3000/len')\n                  .then( (response) => {\n                      this.tRows  = response.data.nbPages;\n                  })\n                  .catch(function (error){\n                      console.log(error);\n                  })\n        },\n        methods:{\n\t\n            getPageNumber()\n            {\n                axios.get('http://89.157.15.147:3000?nb='+this.currentPage)\n                    .then( (response) => {\n                        this.data = response.data;\n                        console.log(this.data);\n                    })\n                    .catch(function (error){\n                        console.log(error);\n                    })\n                console.log(this.currentPage);\n            },\n            addToBasket(nbArticle)\n            {\nconst sleep = (milliseconds) => {\n  return new Promise(resolve => setTimeout(resolve, milliseconds))\n}\n\n                if (this.$session.exists()) {\n\n                    var  basket = [];\n                    if(this.$session.has(\"basket\"))\n                    {\n                        basket = this.$session.get(\"basket\");\n                        console.log(basket);\n                    }\n                    else\n                    {\n                        basket = [];\n                    }\n\t\t\tthis.showOrNot = true;\n\t\t\tsleep(2000).then(()=>{\n\t\t\t\tthis.showOrNot = false;\t\n\t\t\t});\n\t\t\t\n\n                    basket.push({id: this.data[nbArticle].id,\n                        title: this.data[nbArticle].title,\n                        mod_src: this.data[nbArticle].mod_src\n                    });\n                    this.$session.set(\"basket\", basket);\n                    console.log(this.$session.get('basket'));\n                }\n                else\n                {\n                    this.showOrNotAdd = true;\n\t\t\tsleep(3000).then(()=>{\n\t\t\t\tthis.showOrNotAdd = false;\t\n\t\t\t});\n                }\n\n            }\n        }\n    }\n",{"version":3,"sources":["store.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"store.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\r\n    <div class=\"iteam_card_container\">\r\n        <b-col ><div  v-for=\"(item, index) in data\" class=\"item_card\">\r\n\r\n                <img :src=\" require(`@/assets/img/store/${item.img_src}`) \" />\r\n            <div>\r\n                <b-button class=\"card_btn\" variant=\"primary\" @click=\"addToBasket(index)\">Ajouter au panier</b-button>\r\n                <p class=\"title\">{{ item.title }}</p>\r\n                <p class=\"card_content\">{{ item.content}}</p>\r\n            </div>\r\n        </div></b-col>\r\n<b-alert variant=\"success\"  :show=\"showOrNot\">Votre article a bien été ajouté au panier</b-alert>\r\n<b-alert variant=\"danger\"  :show=\"showOrNotAdd\">Veuillez vous connecter pour ajouter des élements au panier</b-alert>\r\n        <b-pagination align=\"center\" size=\"md\"  @input=\"getPageNumber\"  :total-rows=\"tRows\" v-model=\"currentPage\" :per-page=\"1\">\r\n        </b-pagination>\r\n        <br>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from '../../../node_modules/axios'\r\n\r\n\r\n    export default {\r\n        name: \"store\",\r\n        data(){\r\n            return {\r\n\t\tshowOrNot: false,\r\n\t\tshowOrNotAdd: false,\r\n                data: [],\r\n                currentPage: 1,\r\n                tRows: 1\r\n            }\r\n        },\r\n        mounted () {\r\n\t\t\r\n          axios.get('http://89.157.15.147:3000')\r\n              .then( (response) => {\r\n                  this.data = response.data;\r\n              })\r\n              .catch(function (error){\r\n                  console.log(error);\r\n              })\r\n\r\n              axios.get('http://89.157.15.147:3000/len')\r\n                  .then( (response) => {\r\n                      this.tRows  = response.data.nbPages;\r\n                  })\r\n                  .catch(function (error){\r\n                      console.log(error);\r\n                  })\r\n        },\r\n        methods:{\r\n\t\r\n            getPageNumber()\r\n            {\r\n                axios.get('http://89.157.15.147:3000?nb='+this.currentPage)\r\n                    .then( (response) => {\r\n                        this.data = response.data;\r\n                        console.log(this.data);\r\n                    })\r\n                    .catch(function (error){\r\n                        console.log(error);\r\n                    })\r\n                console.log(this.currentPage);\r\n            },\r\n            addToBasket(nbArticle)\r\n            {\r\nconst sleep = (milliseconds) => {\r\n  return new Promise(resolve => setTimeout(resolve, milliseconds))\r\n}\r\n\r\n                if (this.$session.exists()) {\r\n\r\n                    var  basket = [];\r\n                    if(this.$session.has(\"basket\"))\r\n                    {\r\n                        basket = this.$session.get(\"basket\");\r\n                        console.log(basket);\r\n                    }\r\n                    else\r\n                    {\r\n                        basket = [];\r\n                    }\r\n\t\t\tthis.showOrNot = true;\r\n\t\t\tsleep(2000).then(()=>{\r\n\t\t\t\tthis.showOrNot = false;\t\r\n\t\t\t});\r\n\t\t\t\r\n\r\n                    basket.push({id: this.data[nbArticle].id,\r\n                        title: this.data[nbArticle].title,\r\n                        mod_src: this.data[nbArticle].mod_src\r\n                    });\r\n                    this.$session.set(\"basket\", basket);\r\n                    console.log(this.$session.get('basket'));\r\n                }\r\n                else\r\n                {\r\n                    this.showOrNotAdd = true;\r\n\t\t\tsleep(3000).then(()=>{\r\n\t\t\t\tthis.showOrNotAdd = false;\t\r\n\t\t\t});\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\t.customAlert\r\n\t{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\r\n\t}\r\n.card_content\r\n{\r\n\theight: 70px;\r\n}\r\n    .iteam_card_container\r\n    {\r\n        height: 100%;\r\n        padding: 20px;\r\n    }\r\n    .item_card\r\n    {\r\n        color: #ffffff;\r\n        position: relative;\r\n        display: inline-block;\r\n        background: #252525;\r\n        width: 23%;\r\n        height: 50%;\r\n        border-radius: 5px;\r\n        box-shadow: 0px 0px 5px black;\r\n        margin: 10px;\r\n    }\r\n    .item_card div\r\n    {\r\n        padding: 10px;\r\n    }\r\n    .item_card_img_container\r\n    {\r\n\r\n    }\r\n    .item_card img\r\n    {\r\n        display: block;\r\n        width: 100%;\r\n        height:160px;\r\n    }\r\n    .title\r\n    {\r\n        font-weight: bold;\r\n    }\r\n\r\n    .card_btn\r\n    {\r\n        color: #000000;\r\n        font-weight: bold;\r\n        position: absolute;\r\n        right: 2%;\r\n        top: 48%;\r\n        background: #ffffff;\r\n        box-shadow: 0px 0px 5px black;\r\n    }\r\n</style>\r\n"]}]}