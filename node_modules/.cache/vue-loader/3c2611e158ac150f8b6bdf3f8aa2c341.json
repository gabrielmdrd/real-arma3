{"remainingRequest":"C:\\UwAmp\\www\\real-arma3\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\UwAmp\\www\\real-arma3\\src\\components\\pages\\basket.vue?vue&type=style&index=0&id=35e8d601&scoped=true&lang=css&","dependencies":[{"path":"C:\\UwAmp\\www\\real-arma3\\src\\components\\pages\\basket.vue","mtime":1542499175389},{"path":"C:\\UwAmp\\www\\real-arma3\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\UwAmp\\www\\real-arma3\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\UwAmp\\www\\real-arma3\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\UwAmp\\www\\real-arma3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1539850667578},{"path":"C:\\UwAmp\\www\\real-arma3\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    ul\n    {\n        list-style-type: none;\n    }\n.itemContainer\n{\n    width: 100%;\n    height: 40px;\n    background: #1d2124;\n    color: white;\n}\n",{"version":3,"sources":["basket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"basket.vue","sourceRoot":"src\\components\\pages","sourcesContent":["<template>\r\n    <div v-if=\"this.$session.exists()\">\r\n        <ul v-for=\"item in this.basket\" class=\"itemContainer\">\r\n            <li>{{ item.title }}\r\n                <b-button variant=\"danger\" @click=\"removeFromBasket(item.id)\">Retirer</b-button>\r\n            </li>\r\n        </ul>\r\n        <b-button variant=\"primary\" @click=\"checkOut()\">Valider</b-button>\r\n    </div>\r\n    <div v-else>\r\n        <p>il faut vous connecter</p>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n    import axios from '../../../node_modules/axios'\r\n    export default {\r\n        name: \"basket\",\r\n        data(){\r\n            return {\r\n                basket: this.$session.get('basket'),\r\n            }\r\n        },\r\n        methods : {\r\n            removeFromBasket(id) {\r\n                for (let i = 0; i < this.basket.length; i++) {\r\n                    if (this.basket[i].id == id) {\r\n                        this.basket.splice(i, 1);\r\n                        this.$session.set('basket', this.basket);\r\n                    }\r\n                }\r\n                console.log(this.$session.get('basket'));\r\n            },\r\n\r\n            checkOut() {\r\n                let str = \"\";\r\n                for(let i = 0;i < this.basket.length;i++)\r\n                {\r\n                    if(i !== this.basket.length - 1)\r\n                    {\r\n                        str = str+\"nb\"+i+\"=\"+this.basket[i].mod_src+\"&\";\r\n                    }\r\n                    else\r\n                    {\r\n                        str = str+\"nb\"+i+\"=\"+this.basket[i].mod_src;\r\n                    }\r\n                }\r\n                console.log(str);\r\n                console.log(this.basket);\r\n                axios.get('http://localhost:3000/download?'+str,{\r\n                    responseType: 'arraybuffer',\r\n                    headers: {\r\n                        'Content-Type': 'application/zip',\r\n                    }})\r\n                    .then((response) => {\r\n                        let blob = new Blob([response.data], { type: \"application/zip\" }),\r\n                            url = window.URL.createObjectURL(blob);\r\n                        window.open(url, \"_self\");\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    ul\r\n    {\r\n        list-style-type: none;\r\n    }\r\n.itemContainer\r\n{\r\n    width: 100%;\r\n    height: 40px;\r\n    background: #1d2124;\r\n    color: white;\r\n}\r\n</style>"]}]}