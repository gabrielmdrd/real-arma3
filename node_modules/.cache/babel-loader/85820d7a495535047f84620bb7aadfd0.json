{"remainingRequest":"C:\\UwAmp\\www\\real-arma3\\node_modules\\babel-loader\\lib\\index.js!C:\\UwAmp\\www\\real-arma3\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\UwAmp\\www\\real-arma3\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\UwAmp\\www\\real-arma3\\src\\components\\pages\\basket.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\UwAmp\\www\\real-arma3\\src\\components\\pages\\basket.vue","mtime":1542499175389},{"path":"C:\\UwAmp\\www\\real-arma3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1539850667578},{"path":"C:\\UwAmp\\www\\real-arma3\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\UwAmp\\www\\real-arma3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1539850667578},{"path":"C:\\UwAmp\\www\\real-arma3\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from '../../../node_modules/axios';\nexport default {\n  name: \"basket\",\n  data: function data() {\n    return {\n      basket: this.$session.get('basket')\n    };\n  },\n  methods: {\n    removeFromBasket: function removeFromBasket(id) {\n      for (var i = 0; i < this.basket.length; i++) {\n        if (this.basket[i].id == id) {\n          this.basket.splice(i, 1);\n          this.$session.set('basket', this.basket);\n        }\n      }\n\n      console.log(this.$session.get('basket'));\n    },\n    checkOut: function checkOut() {\n      var str = \"\";\n\n      for (var i = 0; i < this.basket.length; i++) {\n        if (i !== this.basket.length - 1) {\n          str = str + \"nb\" + i + \"=\" + this.basket[i].mod_src + \"&\";\n        } else {\n          str = str + \"nb\" + i + \"=\" + this.basket[i].mod_src;\n        }\n      }\n\n      console.log(str);\n      console.log(this.basket);\n      axios.get('http://localhost:3000/download?' + str, {\n        responseType: 'arraybuffer',\n        headers: {\n          'Content-Type': 'application/zip'\n        }\n      }).then(function (response) {\n        var blob = new Blob([response.data], {\n          type: \"application/zip\"\n        }),\n            url = window.URL.createObjectURL(blob);\n        window.open(url, \"_self\");\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n};",{"version":3,"sources":["basket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAgBA,OAAA,KAAA,MAAA,6BAAA;AACA,eAAA;AACA,QAAA,QADA;AAEA,MAFA,kBAEA;AACA,WAAA;AACA,cAAA,KAAA,QAAA,CAAA,GAAA,CAAA,QAAA;AADA,KAAA;AAGA,GANA;AAOA,WAAA;AACA,oBADA,4BACA,EADA,EACA;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,MAAA,CAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,KAAA,MAAA,CAAA,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA;AACA,eAAA,MAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA;AACA,eAAA,QAAA,CAAA,GAAA,CAAA,QAAA,EAAA,KAAA,MAAA;AACA;AACA;;AACA,cAAA,GAAA,CAAA,KAAA,QAAA,CAAA,GAAA,CAAA,QAAA,CAAA;AACA,KATA;AAWA,YAXA,sBAWA;AACA,UAAA,MAAA,EAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,MAAA,CAAA,MAAA,EAAA,GAAA,EACA;AACA,YAAA,MAAA,KAAA,MAAA,CAAA,MAAA,GAAA,CAAA,EACA;AACA,gBAAA,MAAA,IAAA,GAAA,CAAA,GAAA,GAAA,GAAA,KAAA,MAAA,CAAA,CAAA,EAAA,OAAA,GAAA,GAAA;AACA,SAHA,MAKA;AACA,gBAAA,MAAA,IAAA,GAAA,CAAA,GAAA,GAAA,GAAA,KAAA,MAAA,CAAA,CAAA,EAAA,OAAA;AACA;AACA;;AACA,cAAA,GAAA,CAAA,GAAA;AACA,cAAA,GAAA,CAAA,KAAA,MAAA;AACA,YAAA,GAAA,CAAA,oCAAA,GAAA,EAAA;AACA,sBAAA,aADA;AAEA,iBAAA;AACA,0BAAA;AADA;AAFA,OAAA,EAKA,IALA,CAKA,UAAA,QAAA,EAAA;AACA,YAAA,OAAA,IAAA,IAAA,CAAA,CAAA,SAAA,IAAA,CAAA,EAAA;AAAA,gBAAA;AAAA,SAAA,CAAA;AAAA,YACA,MAAA,OAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CADA;AAEA,eAAA,IAAA,CAAA,GAAA,EAAA,OAAA;AACA,OATA,EAUA,KAVA,CAUA,UAAA,KAAA,EAAA;AACA,gBAAA,GAAA,CAAA,KAAA;AACA,OAZA;AAaA;AAvCA;AAPA,CAAA","sourcesContent":["<template>\r\n    <div v-if=\"this.$session.exists()\">\r\n        <ul v-for=\"item in this.basket\" class=\"itemContainer\">\r\n            <li>{{ item.title }}\r\n                <b-button variant=\"danger\" @click=\"removeFromBasket(item.id)\">Retirer</b-button>\r\n            </li>\r\n        </ul>\r\n        <b-button variant=\"primary\" @click=\"checkOut()\">Valider</b-button>\r\n    </div>\r\n    <div v-else>\r\n        <p>il faut vous connecter</p>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n    import axios from '../../../node_modules/axios'\r\n    export default {\r\n        name: \"basket\",\r\n        data(){\r\n            return {\r\n                basket: this.$session.get('basket'),\r\n            }\r\n        },\r\n        methods : {\r\n            removeFromBasket(id) {\r\n                for (let i = 0; i < this.basket.length; i++) {\r\n                    if (this.basket[i].id == id) {\r\n                        this.basket.splice(i, 1);\r\n                        this.$session.set('basket', this.basket);\r\n                    }\r\n                }\r\n                console.log(this.$session.get('basket'));\r\n            },\r\n\r\n            checkOut() {\r\n                let str = \"\";\r\n                for(let i = 0;i < this.basket.length;i++)\r\n                {\r\n                    if(i !== this.basket.length - 1)\r\n                    {\r\n                        str = str+\"nb\"+i+\"=\"+this.basket[i].mod_src+\"&\";\r\n                    }\r\n                    else\r\n                    {\r\n                        str = str+\"nb\"+i+\"=\"+this.basket[i].mod_src;\r\n                    }\r\n                }\r\n                console.log(str);\r\n                console.log(this.basket);\r\n                axios.get('http://localhost:3000/download?'+str,{\r\n                    responseType: 'arraybuffer',\r\n                    headers: {\r\n                        'Content-Type': 'application/zip',\r\n                    }})\r\n                    .then((response) => {\r\n                        let blob = new Blob([response.data], { type: \"application/zip\" }),\r\n                            url = window.URL.createObjectURL(blob);\r\n                        window.open(url, \"_self\");\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    ul\r\n    {\r\n        list-style-type: none;\r\n    }\r\n.itemContainer\r\n{\r\n    width: 100%;\r\n    height: 40px;\r\n    background: #1d2124;\r\n    color: white;\r\n}\r\n</style>"],"sourceRoot":"src\\components\\pages"}]}